{{ $url := .Page.URL }}
{{ $cat := .Page.Params.categories}}

{{ $i := -1}}

{{ $posts := (where $.Site.RegularPages ".Params.categories" $cat).ByDate.Reverse }}

{{ range $index, $seq := $posts}}
    {{ if eq $seq.URL $url }}
        {{ $i = $index }}
    {{ end }}
{{ end }}

{{ $prev := "" }}
{{ $next := "" }}

{{ range (first 1 (after (add $i 1) $posts)) }}
    {{ $prev = .Permalink }}
{{ end }}

{{ if ne $i 0}}
    {{ range (first 1 (after (sub $i 1) $posts)) }}
        {{ $next = .Permalink }}
    {{ end }}
{{ end }}

<!-- Find link to the current category -->
{{ $currentCat := .Params.categories}}
{{ $currentCatLink := ""}}
{{ range .Site.Taxonomies.categories }}
    {{ if eq .Page.Title $currentCat }}
        {{ $currentCatLink = .Page.RelPermalink }}
    {{ end }}
{{ end }}

<div class="prev-next">
    <a href="{{ $prev }}" class="mr-2 btn btn-secondary btn-sm {{if not $prev}} disabled{{end}}">Previous</a>
    /<a href="{{ $next }}" class="mx-2 btn btn-secondary btn-sm {{if not $next}} disabled{{end}}">Next</a> in category <a href="{{ $currentCatLink }}">{{ .Params.categories }}</a>
</div>